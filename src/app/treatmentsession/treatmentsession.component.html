<div class="container">
    <div class="general-info flex-wrap ">
        <form class="TreatmentSession" >
            <div class="form-header">Заболевания</div>
            <div *ngFor="let ill of ills.controls; let i=index;">
                
                <table [formGroup]='ill'>
                <tr>
                    
                    <td>
                        <mat-form-field>
                            <mat-label>Диагноз</mat-label>
                        <mat-select  id="nameIll" formControlName="idNameIll">
                            <mat-option *ngFor="let illData of illNames" value="{{illData.id}}">{{illData.nameIll}}</mat-option>
                        </mat-select>
                        </mat-form-field>
                    </td>
                </tr>
            </table>
                <table [formGroup]='treatments.controls[i]'>
                    <tr>
                        <td>
                            <mat-form-field appearance="fill">
                                <mat-label>Начало лечения</mat-label>
                                <input id="startSession" matInput type="datetime-local" formControlName="startSession" />
                                
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field appearance="fill">
                                <mat-label>Конец лечения</mat-label>
                                <input id="endSession" matInput type="datetime-local" formControlName="endSession"/>
                                
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field appearance="fill">
                                <mat-label>Доктор</mat-label>
                                <mat-select id="doctor" matInput formControlName="idDoctor">
                                    <mat-option *ngFor="let doctor of doctors" value="{{doctor.id}}">{{doctor.name+' '+ doctor.surname}}</mat-option>

                                </mat-select>
                                
                            </mat-form-field>
                        </td>
                    </tr>
                </table>
                <button  mat-raised-button (click)="deleteTreatmentSession(i)" >Удалить</button>
                <button  mat-raised-button type="button" routerLink="/detailStage/{{treatments.controls[i].value.id}}" >Стадии заболевания</button>
            
                
                
            </div>
      
                
               
       
         
         <button  mat-raised-button type="button" (click)="submitForm()" >Отправить</button>
         <button mat-raised-button (click)="addTreatmentSession()" >Добавить</button>
    
         
            
        </form>
        
        

    </div>
</div>